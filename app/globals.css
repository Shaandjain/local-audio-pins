@import "tailwindcss";

@theme {
  /* Modern Monochrome - Clean, sophisticated palette */

  /* Backgrounds */
  --color-background: #FAFAFA;
  --color-surface: #FFFFFF;
  --color-surface-hover: #F5F5F5;

  /* Text */
  --color-foreground: #0A0A0A;
  --color-muted: #525252;
  --color-muted-light: #A3A3A3;

  /* Accent - Pure Black */
  --color-accent: #171717;
  --color-accent-hover: #262626;
  --color-accent-light: rgba(23, 23, 23, 0.06);

  /* Recording/Active state - Dark Grey */
  --color-recording: #404040;
  --color-recording-light: rgba(64, 64, 64, 0.1);

  /* Borders */
  --color-border: #E5E5E5;
  --color-border-strong: #D4D4D4;

  /* Status */
  --color-success: #404040;
  --color-warning: #737373;

  /* Typography - using next/font CSS variables */
  --font-sans: var(--font-dm-sans), -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
  --font-mono: var(--font-jetbrains), "SF Mono", "Fira Code", monospace;

  /* Refined shadows */
  --shadow-soft: 0 1px 2px rgba(0, 0, 0, 0.04);
  --shadow-medium: 0 4px 16px rgba(0, 0, 0, 0.08);
  --shadow-strong: 0 12px 32px rgba(0, 0, 0, 0.12);
  --shadow-glow: 0 0 0 2px rgba(0, 0, 0, 0.1);

  /* Snappy animations (150-200ms) */
  --animate-fade-in: fade-in 0.15s ease-out;
  --animate-slide-up: slide-up 0.2s ease-out;
  --animate-slide-in-right: slide-in-right 0.25s ease-out;
  --animate-scale-in: scale-in 0.15s ease-out;

  @keyframes fade-in {
    0% { opacity: 0; }
    100% { opacity: 1; }
  }

  @keyframes slide-up {
    0% { transform: translateY(8px); opacity: 0; }
    100% { transform: translateY(0); opacity: 1; }
  }

  @keyframes slide-in-right {
    0% { transform: translateX(100%); }
    100% { transform: translateX(0); }
  }

  @keyframes scale-in {
    0% { transform: scale(0.97); opacity: 0; }
    100% { transform: scale(1); opacity: 1; }
  }
}

@layer base {
  html,
  body {
    @apply bg-background text-foreground font-sans antialiased;
    width: 100%;
    height: 100%;
    overflow: hidden;
    letter-spacing: -0.01em;
    line-height: 1.6;
  }

  * {
    @apply box-border p-0 m-0;
  }

  h1, h2, h3, h4, h5, h6 {
    @apply font-semibold tracking-tight;
    letter-spacing: -0.02em;
  }

  /* Teal focus states for accessibility */
  :focus-visible {
    @apply outline-none;
    box-shadow: 0 0 0 2px var(--color-background), 0 0 0 4px var(--color-accent);
  }

  /* Refined scrollbar */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  ::-webkit-scrollbar-track {
    background: transparent;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-border-strong rounded-full;
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-muted-light;
  }
}

/* Button styles - modern and minimal */
.btn {
  @apply inline-flex items-center justify-center px-5 py-2.5 rounded-full font-medium text-sm
         transition-all duration-200 ease-out;
}

.btn-primary {
  @apply bg-foreground text-white hover:bg-accent-hover;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.12);
}

.btn-primary:hover {
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.16);
}

.btn-secondary {
  @apply bg-surface-hover text-foreground border-0
         hover:bg-border;
}

.btn-ghost {
  @apply bg-transparent text-muted hover:bg-surface-hover hover:text-foreground;
}

.btn-text {
  @apply bg-transparent text-foreground hover:text-muted px-2;
}

/* Card styles - clean modern aesthetic */
.card {
  @apply bg-surface rounded-xl border border-border;
  box-shadow: var(--shadow-soft);
}

.card-elevated {
  @apply bg-surface rounded-xl border border-border;
  box-shadow: var(--shadow-medium);
}

/* Input styles */
.input {
  @apply w-full px-4 py-3 rounded-xl border border-border bg-surface
         text-foreground placeholder:text-muted-light
         transition-all duration-200
         hover:border-border-strong
         focus:border-foreground focus:outline-none;
}

.input:focus {
  box-shadow: var(--shadow-glow);
}

.textarea {
  @apply w-full px-4 py-3 rounded-xl border border-border bg-surface
         text-foreground placeholder:text-muted-light
         transition-all duration-200
         hover:border-border-strong
         focus:border-foreground focus:outline-none
         resize-none;
}

.textarea:focus {
  box-shadow: var(--shadow-glow);
}

/* Monospace text for coordinates */
.font-mono {
  font-family: var(--font-mono);
  font-size: 0.85em;
  letter-spacing: 0;
}

/* MapLibre popup overrides - Modern style */
.maplibregl-popup-content {
  background: var(--color-surface) !important;
  border-radius: 16px !important;
  box-shadow: var(--shadow-strong) !important;
  padding: 0 !important;
  border: 1px solid var(--color-border) !important;
}

.maplibregl-popup-close-button {
  color: var(--color-muted) !important;
  font-size: 16px !important;
  padding: 8px 10px !important;
  right: 4px !important;
  top: 4px !important;
  border-radius: 4px !important;
  transition: all 0.15s ease-out !important;
}

.maplibregl-popup-close-button:hover {
  color: var(--color-foreground) !important;
  background: var(--color-surface-hover) !important;
}

.maplibregl-popup-tip {
  border-top-color: var(--color-surface) !important;
}

/* Audio player - minimal styling */
audio {
  @apply w-full h-9 rounded-md;
}

audio::-webkit-media-controls-panel {
  background: var(--color-surface-hover);
  border-radius: 6px;
}

audio::-webkit-media-controls-play-button {
  border-radius: 50%;
}

/* Navigation controls - modern */
.maplibregl-ctrl-group {
  background: var(--color-surface) !important;
  border: 1px solid var(--color-border) !important;
  border-radius: 12px !important;
  box-shadow: var(--shadow-medium) !important;
  overflow: hidden;
}

.maplibregl-ctrl-group button {
  width: 36px !important;
  height: 36px !important;
  background: transparent !important;
  transition: all 0.2s ease-out !important;
}

.maplibregl-ctrl-group button:hover {
  background: var(--color-surface-hover) !important;
}

.maplibregl-ctrl-group button + button {
  border-top: 1px solid var(--color-border) !important;
}

/* Marker styles */
.custom-marker {
  cursor: pointer;
  transition: transform 0.15s ease-out;
}

.custom-marker:hover {
  transform: scale(1.15);
}

/* Recording pulse animation */
.recording-pulse {
  animation: recording-pulse 1.5s ease-out infinite;
}

@keyframes recording-pulse {
  0% {
    box-shadow: 0 0 0 0 rgba(64, 64, 64, 0.4);
  }
  70% {
    box-shadow: 0 0 0 12px rgba(64, 64, 64, 0);
  }
  100% {
    box-shadow: 0 0 0 0 rgba(64, 64, 64, 0);
  }
}

/* Selection box styling */
.selection-box {
  border: 2px dashed var(--color-accent);
  background: var(--color-accent-light);
}

/* Line clamp utilities */
.line-clamp-2 {
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.line-clamp-3 {
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
}
